webpackJsonp([1],{"+GqQ":function(e,t){},"0y+s":function(e,t){},"3i/C":function(e,t){},"4rXf":function(e,t){},"9M+g":function(e,t){},Bq75:function(e,t){},IQUR:function(e,t){},Jmt5:function(e,t){},NHnr:function(t,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=r("//Fk"),o=r.n(n),i=r("7+uW"),c={name:"NavBar",data:function(){return{normal:!0,teamleader:!1,organiser:!1}},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("user")),a=localStorage.getItem("jwt");null!=t&&null!=a&&this.$http.post("/isorganiser",{userID:t.userID}).then(function(t){var a=t.data.response[0];1==a.account?(e.organiser=!0,e.normal=!1):0==a.account?(e.teamleader=!0,e.normal=!1):2==a.account&&(e.teamleader=!0,e.organiser=!0,e.normal=!1)}).catch(function(t){console.log(t),e.$swal("Error","Failed to authenticate user, you might need to login again","error")})},methods:{logout:function(){localStorage.removeItem("jwt"),localStorage.removeItem("user"),this.teamleader=!1,this.organiser=!1,this.normal=!0,this.$router.push("/")}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-navbar",{staticClass:"level",attrs:{toggleable:"lg",type:"light",variant:"light",top:""}},[a("b-navbar-brand",{attrs:{to:"/"}},[e._v("HBRM "),a("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:r("q4Cz"),alt:"Canoe"}})]),e._v(" "),a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{attrs:{to:{name:"home"}}},[e._v("Home")]),e._v(" "),a("b-nav-item",{attrs:{to:{name:"races"}}},[e._v("Races")]),e._v(" "),a("b-nav-item",{attrs:{to:{name:"paddler"}}},[e._v("Paddler")]),e._v(" "),e.normal?a("b-nav-item",{attrs:{to:{name:"login"}}},[e._v("Login")]):e._e(),e._v(" "),e.normal?a("b-nav-item",{attrs:{to:{name:"register"}}},[e._v("Register")]):e._e(),e._v(" "),e.organiser?a("b-nav-item",{attrs:{to:{name:"raceorganiser"}}},[e._v("Race Organiser")]):e._e(),e._v(" "),e.teamleader?a("b-nav-item",{attrs:{to:{name:"teamleader"}}},[e._v("Team Leader")]):e._e(),e._v(" "),e.teamleader||e.organiser?a("b-nav-item",{on:{click:e.logout}},[e._v("Log Out")]):e._e()],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(c,l,!1,function(e){r("xUaD")},"data-v-b51f111a",null).exports,u={name:"App",components:{NavBar:d},data:function(){return{}}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("NavBar"),this._v(" "),t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1)},staticRenderFns:[]};var p=r("VU/8")(u,m,!1,function(e){r("Bq75")},null,null).exports,v=r("/ocq"),h=r("mtWM"),w=r.n(h);function D(e){for(var t=[],a="",s=[],r=0;r<e.length;r++)"NA"===e[r].time?(e[r].position="",e[r].points="",e[r].pd="",e[r].time=e[r].outcome):"NA"===e[r].points&&(e[r].points=""),"NA"===e[r].pd&&(e[r].pd=""),e[r].raceDivision===a?t.push(e[r]):((t=[]).push(e[r]),s.push(t)),a=e[r].raceDivision;for(var n=0;n<s.length;n++)s[n].sort(function(e,t){return e.boatname-t.boatname});return s}function M(e){for(var t=e.split(","),a=[],s=0;s<t.length-1;s++){var r=t[s].split("-");a.push({div:r[0],time:r[1]})}return a}function g(e){var t=e.split(":");return 3600*t[0]+60*t[1]+(+t[2]||0)}function b(e){function t(e){return(e<10?"0":"")+e}return(e<0?"-":"")+t((e=Math.abs(e))/3600|0)+":"+t(e%3600/60|0)+":"+t(e%60)}function f(e,t){for(var a=0;a<e.length;a++)if(e[a].boatname==t)return!0;return!1}function T(e){return e.substring(8,10)+"/"+e.substring(5,7)+"/"+e.substring(0,4)}var A={name:"RaceResult",data:function(){return{info:[],errors:[],race:[],racename:"",canView:!1,clubpoints:[]}},created:function(){var e=this;e.$http.get("/raceresult_order?id="+e.$route.params.id).then(function(t){e.info=t.data.response,0===e.info.length?e.$swal("Error","There are no results for that race","error").then(function(){window.location="/races"}):e.canView=!0,e.race=D(e.info)}).catch(function(t){console.log(t),e.$swal("Race result error","Please reload the page","error"),e.errors.push(t)}),e.$http.get("/race?id="+e.$route.params.id).then(function(t){var a=t.data.response;e.racename=a[0].raceName}).catch(function(t){console.log(t),e.$swal("Race result error","Please reload the page","error"),e.errors.push(t)}),e.$http.post("/clubpointsforrace",{raceID:e.$route.params.id}).then(function(t){e.clubpoints=t.data.response,e.clubpoints.sort(function(e,t){return parseInt(t.points)-parseInt(e.points)})})}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"raceresult"}},[e.canView?a("b-container",{staticClass:"text-center mx-auto col-lg-10 pt-2 scrollX"},[a("b-row",{staticClass:"col-lg-12"},[a("h1",[e._v(" "+e._s(e.racename))])]),e._v(" "),e._l(e.race,function(t){return a("b-row",{key:t.raceID,staticClass:"col-lg-12"},[t[0].raceDivision.includes("Div")?a("h2",{staticClass:"title"},[e._v(e._s(t[0].raceDivision)+" ")]):e._e(),e._v(" "),t[0].raceDivision.includes("U")?a("h2",{staticClass:"title"},[e._v(e._s(t[0].raceDivision)+" ")]):e._e(),e._v(" "),t[0].raceDivision.includes("Div")||t[0].raceDivision.includes("U")?e._e():a("h2",{staticClass:"title"},[e._v("Div "+e._s(t[0].raceDivision)+" ")]),e._v(" "),a("table",{staticClass:"table col-lg-12 mx-auto mt-2 results",class:t[0].raceDivision.includes("_")?" k2Table ":{}},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Position")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Club")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Class")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Div")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Time")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Points")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("P/D")])])]),e._v(" "),a("tbody",e._l(t,function(t){return a("tr",[a("td",[e._v(e._s(t.position))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.clubcode))]),e._v(" "),a("td",[e._v(e._s(t.class))]),e._v(" "),a("td",[e._v(e._s(t.division))]),e._v(" "),a("td",[e._v(e._s(t.time))]),e._v(" "),a("td",[e._v(e._s(t.points))]),e._v(" "),a("td",[e._v(e._s(t.pd))])])}),0)])])}),e._v(" "),a("h2",{staticClass:"title"},[e._v("Club Points")]),e._v(" "),a("table",{staticClass:"table col-lg-12 mx-auto mt-2 results"},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Position")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Club")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Points")])])]),e._v(" "),a("tbody",e._l(e.clubpoints,function(t,s){return a("tr",[a("td",[e._v("\n          "+e._s(s+1)+"\n        ")]),e._v(" "),a("td",[e._v("\n          "+e._s(t.clubname)+"\n        ")]),e._v(" "),a("td",[e._v("\n          "+e._s(t.points)+"\n        ")])])}),0)])],2):e._e()],1)},staticRenderFns:[]};var k=r("VU/8")(A,_,!1,function(e){r("0y+s")},"data-v-a31b8914",null).exports,O={name:"races",data:function(){return{info:[],errors:[],years:[],regions:[],selectYear:0,selectRegion:0,selectRegionName:""}},methods:{getRaces:function(e,t,a){var s=this;s.selectYear=e,s.selectRegion=t;var r="/races";0!==t&&11!==t?(r+="?year="+e+"&region="+t,s.selectRegionName=a):(r+="?year="+e,s.selectRegionName="All"),r+="&process=2",s.$http.get(r).then(function(e){s.info=e.data.response,0==s.info.length&&(s.selectYear--,s.selectRegion=11,s.selectRegionName="ALL",s.getRaces(s.selectYear,s.selectRegion,s.selectRegionName),s.$swal("No results","There were no results for that search filter","error"))}).catch(function(e){s.errors.push(e),console.log(e),s.$swal("There was an error","There are no race results to show.","error")})}},created:function(){var e=this;e.$http.get("/race_year").then(function(t){e.years=t.data.response,e.getRaces(e.years.slice(-1)[0].year,e.selectRegion),e.selectYear=e.years.slice(-1)[0].year,e.selectRegionName="All"}).catch(function(t){console.log(t),e.$swal("Race result error","Please reload the page","error"),e.errors.push(t)}),e.$http.get("/regions").then(function(t){e.regions=t.data.response}).catch(function(t){console.log(t),e.$swal("Race result error","Please reload the page","error"),e.errors.push(t)})}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"races"}},[a("b-container",{staticClass:"text-center mx-auto"},[a("b-row",{staticClass:"col-lg-12 mx-auto pt-4 mt-0"},[a("b-col",[a("b-dropdown",{staticClass:"m-md-2",attrs:{text:"Year: "+e.selectYear}},e._l(e.years,function(t){return a("b-dropdown-item",{key:t.year,on:{click:function(a){return e.getRaces(t.year,e.selectRegion,"")}}},[a("a",{staticClass:"mx-auto"},[e._v(e._s(t.year))])])}),1)],1),e._v(" "),a("b-col",{staticClass:"pl-0"},[a("b-dropdown",{staticClass:"m-md-2",attrs:{text:"Region: "+e.selectRegionName}},e._l(e.regions,function(t){return a("b-dropdown-item",{key:t.regionID,on:{click:function(a){return e.getRaces(e.selectYear,t.regionID,t.regionName)}}},[a("a",{staticClass:"mx-auto"},[e._v(e._s(t.regionName))])])}),1)],1)],1),e._v(" "),a("b-row",{staticClass:"col-lg-12 mx-auto mt-4"},[a("table",{staticClass:"table table-bordered"},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Race Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Year")])])]),e._v(" "),a("tbody",e._l(e.info,function(t){return a("tr",[a("th",[a("router-link",{attrs:{to:{name:"raceresult",params:{id:t.raceID}}}},[a("a",[e._v(e._s(t.raceName))])])],1),e._v(" "),a("th",[e._v(e._s(t.year))])])}),0)])])],1)],1)},staticRenderFns:[]};var N=r("VU/8")(O,y,!1,function(e){r("tgXX")},"data-v-696e0eb2",null).exports,C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("b-modal",{ref:"about",attrs:{id:"about",size:"m",centered:"",title:"Herbert Blondie Race Management","hide-footer":""}},[a("p",[e._v("\n      HBRM is an entry and results system for kayak and canoe marathon racing. It is a web application that maintains\n      its records with the use of a database of race results and paddler information.\n      A team leader or race organiser can sign up and carry out the tasks that they would normally do, however\n      everything is in a more centralised space and requires no importing of ranking lists or emailing.\n    ")])]),e._v(" "),a("video",{attrs:{autoplay:"",muted:"",loop:"",id:"myVideo"},domProps:{muted:!0}},[a("source",{attrs:{src:r("q3HI"),type:"video/mp4"}})]),e._v(" "),a("div",{staticClass:"overlay"}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"container my-auto"},[a("div",{staticClass:"row"},[e._m(0),e._v(" "),a("div",{staticClass:"col-lg-8 mx-auto"},[a("p",{staticClass:"text-faded mb-5"},[e._v("Welcome to the Herbert Blondie Race Management website, a new system aimed at making races easier to enter, run and manage.")]),e._v(" "),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.about",modifiers:{about:!0}}],staticClass:"btn btn-primary btn-xl js-scroll-trigger"},[e._v("Find Out More")])])])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-lg-10 mx-auto"},[t("h1",{staticClass:"text-uppercase"},[t("strong",[this._v("Herbert Blondie Race Managment")])]),this._v(" "),t("hr")])}]};var x=r("VU/8")({name:"Home",data:function(){return{}},created:function(){"d41d8cd98f00b204e9800998ecf8427e"===this.$route.query.message?this.$swal("Error","Please login to get that information.","error"):"84b42204e14f78f4216ac0d9f7fa1db0"===this.$route.query.message&&this.$swal("Error","The results system is currently down, please try again soon.","error")}},C,!1,function(e){r("ZsJW")},"data-v-6cf251fe",null).exports,I={name:"Paddler",data:function(){return{errors:[],paddlers:[],search:"",stats:[],paddlerClicked:!1,dropdown:!0,currentPaddler:[]}},watch:{search:function(){var e=this;e.search.length>=3&&(e.dropdown=!0,e.$http.get("search?term="+e.search).then(function(t){e.paddlers=t.data.response,0===e.paddlers.length?e.$swal("No search results","","error"):1===e.paddlers.length&&e.handlePaddler(e.paddlers[0])}).catch(function(t){e.$swal("Search error",t.response.data,"error")}))}},methods:{handlePaddler:function(e){var t=this;console.log(e),t.currentPaddler=e,t.$http.get("/paddlerstats?id="+e.paddlerID).then(function(a){t.paddlerClicked=!0,t.dropdown=!1,t.stats=a.data.response[0],t.stats.name=e.name}).catch(function(e){console.log(e)})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-lg-8 mx-auto pt-4",attrs:{id:"paddler"}},[a("h2",{staticClass:"mb-3 title"},[e._v("Paddler Statistics")]),e._v(" "),a("p",{staticClass:"text-left"},[e._v("Search for a paddler to view their statistics.")]),e._v(" "),a("b-form-input",{attrs:{type:"search",placeholder:"Search for a paddler",autocomplete:"off"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.dropdown?a("b-list-group",{staticClass:"paddlerList"},e._l(e.paddlers,function(t){return a("b-list-group-item",{key:t.paddlerID,staticClass:"paddler",on:{click:function(a){return e.handlePaddler(t)}}},[e._v(e._s(t.name))])}),1):e._e(),e._v(" "),e.paddlerClicked?a("b-card",{staticClass:"mt-4"},[a("h4",{staticClass:"m-0",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.stats.name))]),e._v(" "),a("b-list-group",{staticClass:"p-0",attrs:{flush:""}},[a("b-list-group-item",[e._v("Current Division: "+e._s(e.currentPaddler.division))]),e._v(" "),a("b-list-group-item",[e._v("Races Entered: "+e._s(e.stats.racesEntered))]),e._v(" "),a("b-list-group-item",[e._v("Retirements: "+e._s(e.stats.retirements))]),e._v(" "),a("b-list-group-item",[e._v("Did not starts: "+e._s(e.stats.notStart))]),e._v(" "),a("b-list-group-item",[e._v("First places: "+e._s(e.stats.first))]),e._v(" "),a("b-list-group-item",[e._v("Second places: "+e._s(e.stats.second))]),e._v(" "),a("b-list-group-item",[e._v("Third places: "+e._s(e.stats.third))]),e._v(" "),a("b-list-group-item",[e._v("Podium Finishes: "+e._s(e.stats.first+e.stats.second+e.stats.third))]),e._v(" "),a("b-list-group-item",[e._v("Number of unknown results: "+e._s(e.stats.unknown))])],1)],1):e._e()],1)},staticRenderFns:[]};var $=r("VU/8")(I,S,!1,function(e){r("eS/R")},"data-v-738b8778",null).exports,L=r("mvHQ"),j=r.n(L),E={name:"Login",data:function(){return{email:"",password:""}},created:function(){"bfeqwhf8327rtgq3fq8o"==this.$route.query.result&&this.$swal("Account Verified","","success")},methods:{handleSubmit:function(e){var t=this,a=this;e.preventDefault(),this.password.length>0&&this.$http.post("/login",{email:this.email,password:this.password}).then(function(e){var s=e.data;if(1==s.user.active){var r=s.user.account;delete s.user.account,localStorage.setItem("user",j()(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt")&&(t.$emit("loggedIn"),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):window.location=1===r?"/raceorganiser":"/teamleader")}else a.$swal("Login Failed","Your account may not be verified","error")}).catch(function(e){console.log(e),a.$swal("Login Failed","","error"),a.email="",a.password=""})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("div",{staticClass:"masthead text-center text-white d-flex"},[a("div",{staticClass:"container my-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 mx-auto text-center"},[e._m(0),e._v(" "),a("hr"),e._v(" "),a("form",{staticClass:"form-signin"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",[a("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit"},on:{click:e.handleSubmit}},[e._v("Sign in")])],1)])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"text-uppercase"},[t("strong",[this._v("Login")])])}]};var P=r("VU/8")(E,R,!1,function(e){r("3i/C")},"data-v-7f8ddbbe",null).exports,z={name:"Register",props:["nextUrl"],data:function(){return{email:"",password:"",confirm_password:"",name:"",regPassword:"",is_raceorganiser:null}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),t.password===t.confirm_password&&t.password.length>0?t.$http.post("/register",{email:t.email,password:t.password,name:t.name,regPassword:t.regPassword,is_raceorganiser:t.is_raceorganiser}).then(function(e){t.$swal("Registration Successful",e.data,"success").then(function(){t.$router.push("/login")})}).catch(function(e){t.$swal("Registration Failed",e.response.data,"error"),t.email="",t.password="",t.name="",t.regPassword="",t.confirm_password="",console.log(e)}):(t.password="",t.confirm_password="",t.$swal("Registration Failed","Passwords were not the same","error"))}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("div",{staticClass:"masthead text-center text-white d-flex "},[a("div",{staticClass:"container my-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 mx-auto text-center"},[e._m(0),e._v(" "),a("hr"),e._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm_password,expression:"confirm_password"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword",placeholder:"Confirm Password",required:""},domProps:{value:e.confirm_password},on:{input:function(t){t.target.composing||(e.confirm_password=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Full name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.regPassword,expression:"regPassword"}],staticClass:"form-control",attrs:{type:"text",id:"regPassword",placeholder:"Club Password",required:""},domProps:{value:e.regPassword},on:{input:function(t){t.target.composing||(e.regPassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("b-form-select",{attrs:{id:"account"},model:{value:e.is_raceorganiser,callback:function(t){e.is_raceorganiser=t},expression:"is_raceorganiser"}},[a("template",{slot:"first"},[a("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select Account Type")])]),e._v(" "),a("option",{attrs:{value:"0"}},[e._v("Team Leader")]),e._v(" "),a("option",{attrs:{value:"1"}},[e._v("Race Organiser")]),e._v(" "),a("option",{attrs:{value:"2"}},[e._v("Both")])],2)],1),e._v(" "),a("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit"},on:{click:e.handleSubmit}},[e._v("Register")])],1)])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"text-uppercase"},[t("strong",[this._v("Register")])])}]};var F=r("VU/8")(z,U,!1,function(e){r("+GqQ")},"data-v-5fc32242",null).exports,Y=r("ZZvs"),V=r.n(Y),Q=(r("SYh3"),{name:"TeamLeader",data:function(){return{form:{name:"",division:"",class:"",bcu:""},options:[],classOptions:[{value:"SMK",text:"SMK"},{value:"VMK",text:"VMK"},{value:"JMK",text:"JMK"},{value:"SFK",text:"SFK"},{value:"JFK",text:"JFK"},{value:"VFK",text:"VFK"},{value:"VMC",text:"VMC"},{value:"SFC",text:"SFC"},{value:"JFC",text:"JFC"},{value:"SMC",text:"SMC"},{value:"VFC",text:"VFC"},{value:"JMC",text:"JMC"}],races:[],errors:[],months:["January","February","March","April","May","June","July","August","September","October","November","December"],fullPage:!0}},components:{Loading:V.a},created:function(){var e=this;e.$http.get("/races?process=0").then(function(t){for(var a=t.data.response,s=0;s<a.length;s++){var r=a[s].date.split("/"),n=new Date(r[1]+"/"+r[0]+"/"+r[2]),o=new Date(n.setDate(n.getDate()-3)),i=new Date;o.setHours(22),i<o&&e.races.push({raceName:a[s].raceName,raceID:a[s].raceID,regionID:a[s].regionID,clubID:a[s].clubID,processed:a[s].processed,entryCloses:o})}}).catch(function(t){e.$swal("There was an error","There was an error loading the races for entry, please try again.","error"),console.log(t)}),e.$http.get("/distinctdivisions").then(function(t){for(var a=t.data.response,s=0;s<a.length;s++){var r=a[s].division,n=a[s].division;"NA"!=n&&(n.includes("U")||(n="Div "+n),e.options.push({value:r,text:n}))}})},methods:{handleSubmit:function(e){e.preventDefault();var t=this,a=JSON.parse(localStorage.getItem("user")),s={name:t.form.name,division:t.form.division,class:t.form.class,bcu:t.form.bcu,club:a.clubID};t.$http.post("/addPaddler",{data:s}).then(function(e){t.$swal("Submitted","The new paddler has been added","success")}).catch(function(e){console.log(e),t.$swal("Error","Failed to add new paddler, please try again","error")})}}}),B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pt-3",attrs:{id:"teamleader"}},[a("b-container",{staticClass:"text-center"},[a("b-row",{staticClass:"col-lg-12 mx-auto mt-4"},[a("h2",{staticClass:"title"},[e._v("Current Entries that are open")])]),e._v(" "),a("b-row",{staticClass:"col-lg-12 mx-auto py-4 panel",staticStyle:{"background-color":"white"}},[a("table",{staticClass:"table table-bordered"},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Race Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Race Entry Closes")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Make Entries")])])]),e._v(" "),a("tbody",e._l(e.races,function(t){return a("tr",[a("th",[a("router-link",{attrs:{to:{name:"raceentries",params:{id:t.raceID,name:t.raceName}}}},[a("a",{staticClass:"raceName"},[e._v(e._s(t.raceName))])])],1),e._v(" "),a("th",[e._v("\n              "+e._s(t.entryCloses.getDate()+"th "+e.months[t.entryCloses.getMonth()]+" at 10pm")+"\n            ")]),e._v(" "),a("th",[a("router-link",{attrs:{to:{name:"raceentries",params:{id:t.raceID,name:t.raceName}}}},[a("a",[a("i",{staticClass:"fas fa-sign-in-alt plus"})])])],1)])}),0)])]),e._v(" "),a("b-row",{staticClass:"col-lg-14 mx-auto mt-4",attrs:{"align-h":"center"}},[a("b-col",{staticClass:"panel py-4 mb-4",staticStyle:{"background-color":"rgb(254, 193, 6)"},attrs:{md:"5"}},[a("h2",[e._v("Submit a new paddler")]),e._v(" "),a("b-form",{staticClass:"form",on:{submit:e.handleSubmit}},[a("b-form-group",{attrs:{label:"Paddler name: "}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Name",required:"",autofocus:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Paddler BCU number: "}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"BCU Number",maxlength:"6",required:"",autofocus:""},model:{value:e.form.bcu,callback:function(t){e.$set(e.form,"bcu",t)},expression:"form.bcu"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Paddler starting division: "}},[a("b-form-select",{staticClass:"form-control",attrs:{options:e.options},model:{value:e.form.division,callback:function(t){e.$set(e.form,"division",t)},expression:"form.division"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Paddler class: "}},[a("b-form-select",{staticClass:"form-control",attrs:{options:e.classOptions},model:{value:e.form.class,callback:function(t){e.$set(e.form,"class",t)},expression:"form.class"}})],1),e._v(" "),a("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit"}},[e._v("Submit")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var q=r("VU/8")(Q,B,!1,function(e){r("IQUR")},"data-v-8ac188a4",null).exports,J=r("fZjL"),K=r.n(J),H=r("lHA8"),Z=r.n(H),G=r("Gu7T"),W=r.n(G),X=r("bOdI"),ee=r.n(X),te={name:"RaceOrganiser",data:function(){var e;return e={form:{racename:"",date:""},errors:[],races:[],raceView:[],raceShow:!1,visible:!1,results:[],divRace:[],showDiv:!1,selected:"",editForm:{racename:"",year:""},search:"",dropdown:!1,paddlerSearchResults:[],message:[],allRacersEntered:[],clubList:[]},ee()(e,"selected",null),ee()(e,"paddler1",{}),ee()(e,"paddler2",{}),ee()(e,"club",[]),e},created:function(){var e=JSON.parse(localStorage.getItem("user")),t=this;t.$http.get("/getclubraces?id="+e.clubID).then(function(e){t.races=e.data.response}).catch(function(e){t.$swal("You have no races","","error"),console.log(e)}),t.$http.get("/club?id="+e.clubID).then(function(e){t.club=e.data.response[0]})},methods:{handleSubmit:function(e){var t=this;e.preventDefault();var a=this,s=JSON.parse(localStorage.getItem("user")).clubID,r=a.form.date.substring(0,4),n=T(a.form.date);this.$http.post("/insertrace",{name:a.form.racename,date:n,clubID:s,year:r,region:a.club.regionID}).then(function(e){a.$swal("Success","The race has been added and should be accessible in your control panel.","success").then(function(){t.$router.go()})}).catch(function(e){console.log(e),a.$swal("Race add Failed","Please try again","error")})},handleUpdateOk:function(e){e.preventDefault(),this.handleUpdateSubmit()},handleUpdateSubmit:function(){var e=this,t=this,a=t.raceView.date.substring(0,4),s=T(t.raceView.date);this.$http.post("/updaterace",{name:t.raceView.raceName,date:s,year:a,raceID:t.raceView.raceID}).then(function(a){e.$nextTick(function(){e.$refs.modal.hide()}),t.$swal("Success","The race has been updated.","success")}).catch(function(e){console.log(e),t.$swal("Race update Failed","Please try again","error")})},getRaceInfo:function(e){var t,a=this,r=this;r.raceView=e,r.raceView.date=(t=r.raceView.date).substring(6,10)+"-"+t.substring(3,5)+"-"+t.substring(0,2),r.raceShow=!0,r.showDiv=!1,r.entryNumbers=[],this.$http.get("/raceresult_number?id="+e.raceID).then(function(e){var t=D(e.data.response);r.results=t}).catch(function(e){console.log(e),s,a.errors.push(e)}),r.$http.get("/getracepaddlers?id="+e.raceID).then(function(e){var t=e.data.response;r.allRacersEntered=t;for(var a=[],s=0;s<r.allRacersEntered.length;s++){var n={value:r.allRacersEntered[s].clubcode,text:r.allRacersEntered[s].clubname};a.push(n)}r.clubList=[].concat(W()(new Z.a(a.map(function(e){return e.value}))))}).catch(function(e){console.log(e),r.errors.push(e)})},getClubEntries:function(){var e=this;e.assignNumbers(),null!=e.selected&&e.$http.get("clubbycode?code="+e.selected).then(function(t){var a=t.data[0].clubID;window.location="/clubentries/"+e.raceView.raceID+"/"+a}).catch(function(t){console.log(t),e.errors.push(t)})},seeDivision:function(e,t){this.divRace=e,this.selected=t,this.showDiv=!0},assignNumbers:function(){for(var t=this,a=[],s=0;s<t.results.length;s++)a.push(t.results[s][0].raceDivision);var r={raceID:t.raceView.raceID,divList:a};t.$http.post("/assignboatnumbers",{data:r}).then(function(e){t.$swal("Success","Boat numbers have been assigned.","success").then(function(){t.getRaceInfo(t.raceView)})}).catch(function(a){t.$swal("Failed to assign boat numbers","Please try again","error"),t.errors.push(e),console.log(e)})},closeDropdown:function(){this.dropdown=!1},selectSearch:function(e){for(var t=!1,a=0;a<this.allRacersEntered.length;a++){var s=this.allRacersEntered[a];e.paddlerID==s.paddlerID&&(t=!0)}t?this.message={show:!0,type:"danger",text:"Duplicate Entry"}:0===K()(this.paddler1).length?this.paddler1=e:K()(this.paddler1).length>0&&0===K()(this.paddler2).length&&(this.paddler2=e),this.dropdown=!1,this.search=""},enterPaddlerSubmit:function(){var e=this,t=K()(e.paddler1).length,a=K()(e.paddler2).length;if(t>0&&0===a)e.addPaddler(e.paddler1),e.paddler1=[],e.paddler2=[],e.message={};else if(t>0&&a>0){var s=Math.floor((parseInt(e.paddler1.division)+parseInt(e.paddler2.division))/2);s=s+"_"+s,e.$http.post("/insertboatresult",{race:e.raceView.raceID,div:s}).then(function(t){for(var a=t.data.response.insertId,s=[e.paddler1.paddlerID,e.paddler2.paddlerID],r=0;r<2;r++)e.$http.post("/insertpaddlerboat",{boatid:a,paddlerid:s[r]}).then(function(t){e.paddler1=[],e.paddler2=[],e.message={},e.message={show:!0,type:"success",text:"K2 entry submitted"},e.getRaceInfo(e.raceView)}).catch(function(t){e.message={show:!0,type:"danger",text:"K2 entry failed, please try again"},console.log(t)})}).catch(function(t){e.message={show:!0,type:"danger",text:"K2 entry failed, please try again"},console.log(t)})}else e.message={show:!0,type:"danger",text:"Error, please try again."},e.paddler1=[],e.paddler2=[],e.message={},e.getRaceInfo(e.raceView)},addPaddler:function(e){for(var t=this,a=this,s=!1,r=0;r<a.allRacersEntered.length;r++){var n=a.allRacersEntered[r];e.paddlerID==n.paddlerID&&(s=!0)}s?a.message={show:!0,type:"danger",text:"Duplicate Entry"}:a.$http.post("/insertboatresult",{race:a.raceView.raceID,div:e.division}).then(function(s){var r=s.data.response.insertId;a.$http.post("/insertpaddlerboat",{boatid:r,paddlerid:e.paddlerID}).then(function(e){a.message={show:!0,type:"success",text:"Paddler entered"},a.dropdown=!1,a.search=""}).catch(function(e){console.log(e),a.$swal("Entry error","The page will now refresh, please check and see what entries were submitted and correct any errors.","error").then(function(){t.$router.go()})})}).catch(function(e){a.$swal("Entry error","The page will now refresh, please check and see what entries were submitted and correct any errors.","error").then(function(){t.$router.go()}),console.log(e)})},paddlerRemoved:function(e){var t=this,a=t.divRace[e].boatID;t.$http.post("/deleteentry",{boatid:a}).then(function(a){t.divRace.splice(e,1),t.getRaceInfo(t.raceView),t.$forceUpdate()}).catch(function(e){console.log(e),t.$swal("Failed to delete entry","If the error persists please contact an administrator","error")})}},watch:{search:function(){var e=this;e.search.length>=3?(e.message={},e.dropdown=!0,e.$http.get("search?term="+e.search).then(function(t){e.paddlerSearchResults=t.data.response,0===e.paddlerSearchResults.length?e.message={show:!0,type:"danger",text:"No search results"}:e.paddlerSearchResults.length}).catch(function(t){console.log(t),e.$swal("Search error","Please try again","error")})):e.closeDropdown()}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-4",attrs:{id:"raceorganiser"}},[a("b-container",{staticClass:"text-center mx-auto"},[a("b-modal",{ref:"enterPaddler",attrs:{"hide-footer":"",centered:"",id:"enterPaddler",title:"Enter Paddler"}},[a("b-alert",{staticClass:"my-2 mx-3",attrs:{show:e.message.show,variant:e.message.type}},[e._v(e._s(e.message.text))]),e._v("\n      Type the paddlers name and click ok.\n      If you are entering a K2, search another name before pressing Ok.\n      "),a("b-form",{staticClass:"form",on:{submit:function(e){}}},[a("b-form-input",{ref:"search",attrs:{type:"search",placeholder:"Search for a paddler",autocomplete:"off"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.dropdown?a("b-list-group",{staticClass:"paddlerList"},e._l(e.paddlerSearchResults,function(t){return a("b-list-group-item",{key:t.paddlerID,staticClass:"paddler",on:{click:function(a){return e.selectSearch(t)}}},[e._v(e._s(t.clubcode)+" : "+e._s(t.name))])}),1):e._e(),e._v(" "),Object.keys(e.paddler1).length>0?a("p",{staticClass:"text-left mt-4"},[e._v("Paddler 1: "+e._s(e.paddler1.name)+" ("+e._s(e.paddler1.clubcode)+")")]):e._e(),e._v(" "),Object.keys(e.paddler2).length>0?a("p",{staticClass:"text-left mt-4"},[e._v("Paddler 2: "+e._s(e.paddler2.name)+" ("+e._s(e.paddler2.clubcode)+")")]):e._e(),e._v(" "),a("b-alert",{staticClass:"my-1 mx-3",attrs:{show:Object.keys(e.paddler1).length>0&&Object.keys(e.paddler2).length>0,variant:"warning"}},[e._v("Pressing Ok will enter the two paddlers above in K2")]),e._v(" "),a("b-alert",{staticClass:"my-1 mx-3",attrs:{show:Object.keys(e.paddler1).length>0&&0===Object.keys(e.paddler2).length,variant:"warning"}},[e._v("Pressing Ok will enter this paddler as a K1")]),e._v(" "),a("b-button",{staticClass:"mt-3 py-1 px-4",attrs:{size:"sm",variant:"primary"},on:{click:function(t){return e.enterPaddlerSubmit()}}},[e._v("Submit")])],1)],1),e._v(" "),a("b-modal",{ref:"modal",attrs:{id:"editRace",title:"Edit Race"},on:{ok:e.handleUpdateOk}},[a("b-form",{staticClass:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleUpdateSubmit(t)}}},[a("b-form-group",{attrs:{label:"Race name: "}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Race name",required:"",autofocus:""},model:{value:e.raceView.raceName,callback:function(t){e.$set(e.raceView,"raceName",t)},expression:"raceView.raceName"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Race date: "}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"date",required:""},model:{value:e.raceView.date,callback:function(t){e.$set(e.raceView,"date",t)},expression:"raceView.date"}})],1)],1)],1),e._v(" "),a("b-row",{staticClass:"col-lg-12 mx-auto mt-4",attrs:{"align-h":"center"}},[a("b-col",{staticClass:"panel py-4",staticStyle:{"background-color":"rgb(254, 193, 6)"},attrs:{md:"5"}},[a("h2",[e._v("Organise a new race")]),e._v(" "),a("b-form",{staticClass:"form",on:{submit:e.handleSubmit}},[a("b-form-group",{attrs:{label:"Race name: "}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Race name",required:"",autofocus:""},model:{value:e.form.racename,callback:function(t){e.$set(e.form,"racename",t)},expression:"form.racename"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Race date: "}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"date",required:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),a("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit"}},[e._v("Submit")])],1)],1),e._v(" "),a("b-col",{staticClass:"panel py-4 racesList",staticStyle:{"background-color":"rgb(32, 169, 215)"},attrs:{"offset-md":"1",md:"6"}},[a("h2",[e._v("Your races")]),e._v(" "),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Race Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Year")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Complete")]),e._v(" "),a("th",{attrs:{scope:"col"}})])]),e._v(" "),a("tbody",e._l(e.races,function(t){return a("tr",[a("th",[a("a",{staticClass:"raceName",on:{click:function(a){return e.getRaceInfo(t)}}},[e._v(e._s(t.raceName))])]),e._v(" "),a("th",[e._v(e._s(t.year))]),e._v(" "),2==t.processed?a("th",[a("svg",{staticClass:"tick",staticStyle:{"enable-background":"new 0 0 50 50"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",id:"Layer_1",version:"1.1",viewBox:"0 0 50 50","xml:space":"preserve"}},[a("g",{staticStyle:{},attrs:{id:"tick-icon"}},[a("polygon",{attrs:{points:"47.293,6.94 14,40.232 2.707,28.94 1.293,30.353 14,43.06 48.707,8.353  "}})])])]):e._e(),e._v(" "),0==t.processed?a("th",[e._v("x")]):e._e(),e._v(" "),a("th",[a("a",{staticClass:"raceName",on:{click:function(a){return e.getRaceInfo(t)}}},[a("div",{staticClass:"icon"},[e._v("Go")])])])])}),0)]),e._v(" "),a("p",[e._v("Select a race to see its details")])])],1),e._v(" "),a("b-row",{staticClass:"col-lg-12 mx-auto",attrs:{"align-h":"center"}},[e.raceShow?a("b-col",{staticClass:"panel raceView px-4 pb-3",staticStyle:{"background-color":"rgb(101, 196, 137)"},attrs:{md:"12"}},[a("b-row",[a("b-col",{staticClass:"col-md-5"},[a("h2",[e._v(e._s(e.raceView.raceName))]),e._v(" "),a("h2",[0==e.raceView.processed?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.enterPaddler",modifiers:{enterPaddler:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"primary",type:"submit"}},[e._v("Enter paddler")]):e._e(),e._v(" "),0==e.raceView.processed?a("b-button",{staticClass:"mb-2",attrs:{size:"sm",variant:"primary",type:"submit"},on:{click:e.assignNumbers}},[e._v("Assign boat numbers")]):e._e(),e._v(" "),a("b-form-select",{staticClass:"mb-2 mt-1",attrs:{options:e.clubList},on:{change:e.getClubEntries},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("template",{slot:"first"},[a("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Club Entries")])])],2),e._v(" "),a("router-link",{attrs:{to:{name:"runrace",params:{id:e.raceView.raceID}}}},[0==e.raceView.processed?a("b-button",{staticClass:"mb-2",attrs:{size:"sm",variant:"primary",type:"submit"},on:{click:e.assignNumbers}},[e._v("Run race")]):e._e()],1),e._v(" "),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.editRace",modifiers:{editRace:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"primary",type:"submit"}},[e._v("Edit Race")])],1),e._v(" "),a("p",{staticClass:"text-left mb-0"},[e._v("Select a division to see the entries:")]),e._v(" "),0==e.results.length?a("p",{staticClass:"text-left mb-0"},[e._v("There are no entries...")]):e._e(),e._v(" "),a("b-list-group",{staticClass:"my-2"},e._l(e.results,function(t){return a("b-list-group-item",{key:t.name,staticClass:"d-flex justify-content-between align-items-center text-dark raceName",attrs:{button:""},on:{click:function(a){return e.seeDivision(t,t[0].raceDivision)}}},[e._v("\n                  "+e._s(t[0].raceDivision)+"\n                  "),a("b-badge",{attrs:{variant:"primary",pill:""}},[e._v(e._s(t.length))])],1)}),1)],1),e._v(" "),a("b-col",{staticClass:"col-md-6 pr-2 divisionList ml-3",attrs:{offset:"1"}},[e.showDiv?a("div",{staticClass:"xScroll"},[a("table",{staticClass:"table mt-5",class:e.selected.includes("_")?" k2Table ":{}},[a("thead",[a("tr",[a("th",{attrs:{valign:"middle",scope:"col"}},[e._v("Boat Number")]),e._v(" "),a("th",{attrs:{valign:"middle",scope:"col"}},[e._v("Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Club")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Div")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Delete")])])]),e._v(" "),a("tbody",e._l(e.divRace,function(t,s){return a("tr",[a("td",[e._v(e._s(t.boatname))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.clubcode))]),e._v(" "),a("td",[e._v(e._s(t.raceDivision))]),e._v(" "),a("td",[a("a",{on:{click:function(t){return e.paddlerRemoved(s)}}},[a("i",{staticClass:"fas fa-minus-circle minus"})])])])}),0)])]):e._e()])],1)],1):e._e()],1)],1)],1)},staticRenderFns:[]};var se=r("VU/8")(te,ae,!1,function(e){r("dKRD")},"data-v-9bc6dc6c",null).exports,re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"topheader"},[t("div",{staticClass:"masthead text-center text-white d-flex"},[t("div",{staticClass:"container my-auto"},[t("div",{staticClass:"row"},[this._m(0),this._v(" "),t("div",{staticClass:"col-lg-8 mx-auto"},[t("b-button",{attrs:{size:"lg",variant:"primary",type:"submit",to:{name:"home"}}},[this._v("Home")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-lg-10 mx-auto"},[t("h1",{staticClass:"text-uppercase"},[t("strong",[this._v("#404 - Page Not Found")])]),this._v(" "),t("hr")])}]};var ne=r("VU/8")({name:"NotFound"},re,!1,function(e){r("uJsF")},"data-v-e76ff88e",null).exports,oe={name:"RunRace",components:{NavBar:d},data:function(){return{race:[],divisions:[],form:{divs:[]},boatnumber:"",selected:"Finish",options:[{text:"Finish",value:"Finish"},{text:"Did not start",value:"DNS"},{text:"Retired",value:"RTD"}],time:"00:00:00",raceBoatNumbers:[],submittedBoatNumbers:[],message:[],info:[],errors:[],results:[],textboxSubmission:"",inviteEmail:"",canView:!1}},created:function(){var e=this;e.loadRace(function(){e.$http.get("/boatnumbers?id="+e.$route.params.id).then(function(t){e.raceBoatNumbers=t.data.response}).catch(function(t){console.log(t),e.$swal("Failed to get all boat numbers","Please try again","error")}),e.loadDivisions(),e.loadResult();var t=JSON.parse(localStorage.getItem("user"));e.race.clubID==t.clubID?e.canView=!0:(e.canView=!1,e.$swal("Access Denied","You may not run this race","error").then(function(){window.location="/raceorganiser"}))})},methods:{loadRace:function(e){var t=this;t.$http.get("/race?id="+t.$route.params.id).then(function(a){t.race=a.data.response[0];var s=M(t.race.boatOffset);if(s.length!=t.form.divs.length)for(var r=0;r<s.length;r++)t.form.divs.push(s[r].time);e()}).catch(function(e){t.$swal("Failed to get race data","Please try again","error"),console.log(e)})},loadDivisions:function(){var e=this;e.$http.get("/racedivisions?id="+this.$route.params.id).then(function(t){e.divisions=t.data.response}).catch(function(t){e.$swal("Error","Failed to get race divisions","error"),console.log(t)})},loadResult:function(){var e=this;e.$http.get("/raceresult_order?id="+e.$route.params.id).then(function(t){var a=t.data.response;e.results=D(a)}).catch(function(t){e.errors.push(t),console.log(t),e.$swal("Error","Failed to get race results so far","error")})},handleStopwatch:function(e){var t=this;e.preventDefault();for(var a="",s=0;s<t.form.divs.length;s++){var r=t.form.divs[s];void 0!==r&&""!=r||(r="00:00:00"),a=a+t.divisions[s].raceDivision+"-"+r+","}t.$http.post("/updateraceoffset",{list:a,raceID:t.$route.params.id}).then(function(e){t.$swal("Stopwatch offsets submitted","Division start times have been submitted, you can now input finish times","success"),t.loadRace(function(){t.loadDivisions(),t.loadResult()})}).catch(function(e){console.log(e),t.$swal("Failed to submit stopwatch times","Please try again","error")})},submitTime:function(e,t){var a=this;if(""==e)a.message={show:!0,type:"danger",text:"Boat number cannot be empty"};else{for(var s=e[0],r=M(a.race.boatOffset),n="",o=0;o<r.length;o++)(r[o].div===s||r[o].div.includes("_")&&parseInt(e)>s+50)&&"Finish"===a.selected?n=b(g(t)-g(r[o].time)):"RTD"===a.selected?n="RTD":"DNS"===a.selected&&(n="DNS");var i=!1,c=!1;f(a.raceBoatNumbers,e)?i=!0:f(a.submittedBoatNumbers,e)?c=!0:a.message={show:!0,type:"danger",text:e+" doesn't exist in the system"},(i||c)&&a.$http.post("/updateboattime",{data:{boatname:e,racetime:n,outcome:a.selected,raceID:a.$route.params.id}}).then(function(t){if(i){a.raceBoatNumbers.splice(a.raceBoatNumbers.indexOf(e),1);var s={boatname:a.boatnumber};a.submittedBoatNumbers.push(s),a.message={show:!0,type:"success",text:e+" submitted"}}else c&&(a.message={show:!0,type:"success",text:e+" time has been overwritten"});a.boatnumber="",a.time="",a.selected="Finish",a.loadResult()}).catch(function(t){a.message={show:!0,type:"danger",text:e+" failed to submit"}})}},submitPaddlerTime:function(){this.submitTime(this.boatnumber,this.time)},handleModal:function(e){e.preventDefault();var t=this;if(t.textboxSubmission.length>0){for(var a=t.textboxSubmission.split("\n"),s=0;s<a.length;s++){var r=a[s].split(",");r[1]=r[1].replace(/\s+/g,""),"RTD"==r[1]?t.selected="RTD":"DNS"==r[1]?t.selected="DNS":t.selected="Finish",t.submitTime(r[0],r[1])}t.$nextTick(function(){t.$refs.textModal.hide(),t.$swal("Submitted","Paddler times have all been submitted","success")})}else t.$nextTick(function(){t.$refs.textModal.hide()})},finishPhone:function(e){e.preventDefault();var t=this;t.inviteEmail?t.validEmail(t.inviteEmail)?t.$http.post("/insertAccess",{data:{email:t.inviteEmail,access:0,raceid:this.$route.params.id,accessType:0}}).then(function(e){t.$nextTick(function(){t.$refs.textModal.hide(),t.$swal("Email Sent","The email was successfully sent","success")})}).catch(function(e){t.$swal("Failed","Failed to send email","error"),console.log(e)}):t.message={show:!0,type:"danger",text:"Invalid email address"}:t.message={show:!0,type:"danger",text:"No email address"}},submitAdvisor:function(){var e=this,t={process:1,raceID:e.$route.params.id,region:e.race.regionID};e.$http.post("/updateraceprocess",{data:t}).then(function(t){e.$swal("Success","Race updates complete","success").then(function(){})})},processResults:function(){for(var e=this,t=[],a=0;a<e.raceBoatNumbers.length;a++)console.log(e.raceBoatNumbers[a].time+" : "+e.raceBoatNumbers[a].boatname),null==e.raceBoatNumbers.time&&t.push(e.raceBoatNumbers[a]);if(t.length>0){for(var s="Boat times are missing for the following boats:<br>",r=0;r<t.length;r++)s=s+t[r].boatname+"<br>";e.$swal("Boat times missing.",s,"error")}else{var n={raceID:this.$route.params.id,processType:0};e.$http.post("/processresults",{data:n}).then(function(t){e.$swal("Success","Race processed","success")}).catch(function(t){428==t.response.status?e.$swal("Time error","Not all paddler times are filled in","error"):400==t.response.status?e.$swal("Processing error","Please try again soon and make sure all details are filled in","error"):e.$swal("Fail","Failed to process results, please try again","error")})}},validEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" py-4",attrs:{id:"runrace"}},[e.canView?a("b-container",{staticClass:"text-center mx-auto"},[a("b-row",{staticClass:"col-lg-14 mt-1"},[a("b-col",{staticClass:"py-1",attrs:{md:"8"}},[a("h2",{staticClass:"mb-0",staticStyle:{"text-align":"left"}},[e._v("Running race: "+e._s(e.race.raceName))])])],1),e._v(" "),a("b-row",{staticClass:"col-lg-14 mx-auto mt-4"},[a("b-col",{staticClass:"panel py-2",staticStyle:{"background-color":"white"},attrs:{md:"12"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.about",modifiers:{about:!0}}],staticClass:"m-1",attrs:{type:"submit",variant:"primary"}},[e._v("About")]),e._v(" "),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.textSubmission",modifiers:{textSubmission:!0}}],staticClass:"m-1",attrs:{type:"submit",variant:"primary"}},[e._v("Text Box Time Submission")]),e._v(" "),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.invitephone",modifiers:{invitephone:!0}}],staticClass:"m-1",attrs:{type:"submit",variant:"primary"},on:{click:function(e){}}},[e._v("Invite Finish Phone User")]),e._v(" "),a("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"},on:{click:e.processResults}},[e._v("Process Results")]),e._v(" "),a("router-link",{attrs:{to:{name:"adminresult",params:{id:e.race.raceID}}}},[a("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"}},[e._v("See Results")])],1),e._v(" "),a("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"},on:{click:e.submitAdvisor}},[e._v("Submit Results")])],1)],1),e._v(" "),a("b-modal",{ref:"about",attrs:{id:"about",size:"m",centered:"",title:"About this page"}},[a("p",[e._v("\n        How do u use this page\n      ")])]),e._v(" "),a("b-modal",{ref:"textModal",attrs:{id:"invitephone",size:"m",centered:"",title:"Invite phone user for time input"},on:{ok:e.finishPhone}},[a("p",[e._v("\n        Type the email address of the person that you would like to have access to\n        inputting boat number and times to help speed up processing results.\n        They will need to click the link in the email to get access.\n      ")]),e._v(" "),a("b-form-input",{attrs:{type:"email",placeholder:"Email Address"},model:{value:e.inviteEmail,callback:function(t){e.inviteEmail=t},expression:"inviteEmail"}}),e._v(" "),a("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:e.message.show,variant:e.message.type}},[e._v(e._s(e.message.text))])],1),e._v(" "),a("b-modal",{ref:"textModal",attrs:{id:"textSubmission",size:"m",centered:"",title:"Enter Paddler Times In a big text box"},on:{ok:e.handleModal}},[a("p",[e._v("\n        Paddler boat numbers and times should be entered in one long list."),a("br"),e._v("\n        This is an alternative to\n        entering them one by one on each page."),a("br"),e._v("\n        The format of this entry should be:"),a("br"),e._v("\n        {boatnumber}, {time in hh:mm:ss},"),a("br"),e._v("\n        {boatnumber}, {time in hh:mm:ss},\n      ")]),e._v(" "),a("b-form-textarea",{attrs:{placeholder:"{boatnumber}, {time in hh:mm:ss},",rows:"5","max-rows":"100"},model:{value:e.textboxSubmission,callback:function(t){e.textboxSubmission=t},expression:"textboxSubmission"}})],1),e._v(" "),a("b-row",{staticClass:"col-lg-14 mx-auto mt-4"},[a("b-col",{staticClass:"panel py-4",staticStyle:{"background-color":"rgb(254, 193, 6)"},attrs:{md:"5"}},[a("h3",{staticClass:"pb-2"},[e._v("Enter stopwatch start times")]),e._v(" "),0==e.divisions.length?a("p",[e._v("There are no entries in divisions.")]):e._e(),e._v(" "),a("b-form",{on:{submit:e.handleStopwatch}},[e._l(e.divisions,function(t,s){return a("b-form-group",{key:t.raceDivision,attrs:{id:t.raceDivision,label:"Division "+t.raceDivision}},[a("b-form-input",{attrs:{type:"time",step:"1"},model:{value:e.form.divs[s],callback:function(t){e.$set(e.form.divs,s,t)},expression:"form.divs[index]"}})],1)}),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],2)],1),e._v(" "),a("b-col",{staticClass:"panel py-4 race",staticStyle:{"background-color":"rgb(32, 169, 215)"},attrs:{"offset-md":"1",md:"6"}},[a("h3",{staticClass:"pb-2"},[e._v("Add paddler time")]),e._v(" "),a("b-alert",{attrs:{show:e.message.show,variant:e.message.type}},[e._v(e._s(e.message.text))]),e._v(" "),a("b-form-group",{attrs:{label:"Boat number"}},[a("b-form-input",{attrs:{autofocus:"",type:"number",step:"1"},model:{value:e.boatnumber,callback:function(t){e.boatnumber=t},expression:"boatnumber"}})],1),e._v(" "),"Finish"==e.selected?a("b-form-group",{attrs:{label:"Time"}},[a("b-form-input",{attrs:{type:"time",step:"1"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1):e._e(),e._v(" "),a("b-form-group",{attrs:{label:""}},[a("b-form-radio-group",{attrs:{options:e.options,name:"radioInline"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.submitPaddlerTime()}}},[e._v("Submit")])],1)],1),e._v(" "),e._l(e.results,function(t){return a("b-row",{key:t.raceID,staticClass:"col-lg-14 mx-auto mt-4"},[a("b-col",{staticClass:"panel py-3 race xScroll",staticStyle:{"background-color":"rgb(101, 196, 137)"},attrs:{md:"12"}},[a("h2",{staticStyle:{"text-align":"left","font-size":"28px","font-weight":"600"}},[e._v(" Div "+e._s(t[0].raceDivision)+" ")]),e._v(" "),a("table",{staticClass:"table col-lg-12 mx-auto mt-2 results",class:t[0].raceDivision.includes("_")?" k2Table ":{}},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Number")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Position")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Club")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Class")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Div")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Time")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Points")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("P/D")])])]),e._v(" "),a("tbody",e._l(t,function(t){return a("tr",[a("td",[e._v(e._s(t.boatname))]),e._v(" "),a("td",[e._v(e._s(t.position))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.clubcode))]),e._v(" "),a("td",[e._v(e._s(t.class))]),e._v(" "),a("td",[e._v(e._s(t.division))]),e._v(" "),a("td",[e._v(e._s(t.time))]),e._v(" "),a("td",[e._v(e._s(t.points))]),e._v(" "),a("td",[e._v(e._s(t.pd))])])}),0)])])],1)})],2):e._e()],1)},staticRenderFns:[]};var ce=r("VU/8")(oe,ie,!1,function(e){r("hkH5")},"data-v-aaaecca8",null).exports,le={name:"Phone",data:function(){return{race:[],access:[],textboxSubmission:"",selected:"Finish"}},created:function(){var e=this;e.$http.get("/accesspage?id="+e.$route.params.id).then(function(t){e.access=t.data.response[0],0!=e.access.accessType?e.$swal("Access Denied","You may not access this page.","error").then(function(){e.$router.push("/")}):e.$http.get("/race?id="+e.access.raceID).then(function(t){e.race=t.data.response[0]}).catch(function(t){e.$swal("Failed to get race data","Please try again","error"),console.log(t)})}).catch(function(t){e.$swal("Access Denied","You may not access this page.","error"),console.log(t)})},methods:{submitTimes:function(e){e.preventDefault()}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pt-1 pb-5",attrs:{id:"phone"}},[a("b-container",{staticClass:"mx-auto"},[a("b-row",{staticClass:"col-lg-12 mt-4"},[a("b-col",{staticClass:"py-1",attrs:{md:"8"}},[a("h2",{staticClass:"mb-0",staticStyle:{"text-align":"left"}},[e._v("Race Results Processing for: "+e._s(e.race.raceName))])])],1),e._v(" "),a("b-row",{staticClass:"col-lg-12 mx-auto mt-4"},[a("b-col",{staticClass:"panel py-2",staticStyle:{"background-color":"rgb(254, 193, 6)"},attrs:{md:"12"}},[a("p",[e._v("\n          Paddler boat numbers and times should be entered in one long list."),a("br"),e._v("\n          This is an alternative to\n          entering them one by one on each page."),a("br"),e._v("\n          The format of this entry should be:"),a("br"),e._v("\n          {boatnumber}, {time in hh:mm:ss},"),a("br"),e._v("\n          {boatnumber}, {time in hh:mm:ss},\n        ")]),e._v(" "),a("b-form-textarea",{attrs:{placeholder:"{boatnumber}, {time in hh:mm:ss},",rows:"5","max-rows":"100"},model:{value:e.textboxSubmission,callback:function(t){e.textboxSubmission=t},expression:"textboxSubmission"}}),e._v(" "),a("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"},on:{click:e.submitTimes}},[e._v("Submit")])],1)],1)],1)],1)},staticRenderFns:[]};var ue=r("VU/8")(le,de,!1,function(e){r("T8+H")},"data-v-64d149b7",null).exports,me={name:"RaceEntries",data:function(){return{errors:[],paddlers:[],raceName:"",raceID:0,submittedEntries:[],enteredPaddlers:[],session_boatID:1,dropdown:!1,paddlerSearchResults:[],search:"",k2Mode:!1,selectedK2index:0,allRacersEntered:[]}},created:function(){var e=this,t=this;t.raceName=this.$route.params.name,t.raceID=this.$route.params.id,t.enteredPaddlers=[],t.submittedEntries=[];var a=JSON.parse(localStorage.getItem("user"));t.$http.get("/getracepaddlers?id="+t.raceID).then(function(e){var s=e.data.response;t.allRacersEntered=s,t.$http.get("/clubpaddlers?club="+a.clubID).then(function(e){var s=e.data.response;t.paddlers=s,t.$http.get("/clubraceentries?raceid="+t.raceID+"&clubid="+a.clubID).then(function(e){for(var a=e.data.response,s=0;s<a.length;s++){t.submittedEntries.unshift(a[s]);for(var r=0;r<t.allRacersEntered.length;r++)t.allRacersEntered[r].boatID===a[s].boatID&&t.allRacersEntered[r].paddlerID!=a[s].paddlerID&&t.allRacersEntered[r].clubID!=a[s].clubID&&(t.allRacersEntered[r].name=t.allRacersEntered[r].name+" ("+t.allRacersEntered[r].clubcode+")",t.submittedEntries.unshift(t.allRacersEntered[r]))}}).catch(function(e){console.log(e)})}).catch(function(e){t.$swal("Error","There was an error loading the club paddlers, please try again.","error"),console.log(e)})}).catch(function(t){e.errors.push(t)})},methods:{closeDropdown:function(){this.dropdown=!1},getClass:function(e){if(e.includes("_"))return{noborder:!0}},checkDuplicate:function(e){for(var t=!1,a=0;a<this.allRacersEntered.length;a++)this.allRacersEntered[a].paddlerID===this.paddlers[e].paddlerID&&(this.$swal("Duplicate Entry","This paddler has already been entered.","error"),t=!0);for(var s=0;s<this.submittedEntries.length;s++)this.submittedEntries[s].paddlerID===this.paddlers[e].paddlerID&&(this.$swal("Duplicate Entry","This paddler has already been entered.","error"),t=!0);for(var r=0;r<this.enteredPaddlers.length;r++)console.log("Count: "+r+", ID: "+this.enteredPaddlers[r].paddlerID+", Compared to: "+this.paddlers[e].paddlerID),this.enteredPaddlers[r].paddlerID===this.paddlers[e].paddlerID&&(this.$swal("Duplicate Entry","This paddler has already been entered.","error"),t=!0);return t},paddlerEntered:function(e){this.search="",this.closeDropdown(),this.checkDuplicate(e)||this.enteredPaddlers.unshift(this.paddlers[e])},paddlerEnteredSearch:function(e){this.search="",this.closeDropdown();for(var t=0;t<this.paddlers.length;t++)this.paddlers[t].paddlerID==e.paddlerID&&(this.checkDuplicate(t)||this.enteredPaddlers.unshift(this.paddlers[t]))},paddlerRemoved:function(e,t){var a=this,s=this,r=JSON.parse(localStorage.getItem("user"));if(0==t){var n=s.submittedEntries[e].boatID;s.$http.post("/deleteentry",{boatid:n}).then(function(t){for(var r=0;r<s.submittedEntries.length;r++)s.submittedEntries[r].boatID===n&&s.submittedEntries[e].paddlerID!=s.submittedEntries[r].paddlerID&&s.submittedEntries.splice(r,1);s.submittedEntries.splice(e,1),a.$forceUpdate()}).catch(function(e){console.log(e),s.$swal("Failed to delete entry","If the error persists please contact an administrator","error")})}else if(1==t){for(var o=0;o<s.enteredPaddlers.length;o++)s.enteredPaddlers[o].boatID==s.enteredPaddlers[e].boatID&&e!=o&&(console.log("removed k2 features for: "+s.enteredPaddlers[o].name),delete s.enteredPaddlers[e].k2,delete s.enteredPaddlers[e].boatID,delete s.enteredPaddlers[o].k2,delete s.enteredPaddlers[o].boatID,s.enteredPaddlers[o].clubID!=r.clubID&&(s.$swal("K2 Fully deleted","The remaining paddler is from different club, please re-enter the K2","error"),s.enteredPaddlers.splice(o,1)));s.enteredPaddlers.splice(e,1)}},submitEntries:function(){for(var e=this,t=this,a=function(a){if("yes"==t.enteredPaddlers[a].k2&&null!=t.enteredPaddlers[a+1]){if(t.enteredPaddlers[a].boatID==t.enteredPaddlers[a+1].boatID){var s=Math.floor((parseInt(t.enteredPaddlers[a+1].division)+parseInt(t.enteredPaddlers[a].division))/2);s=s+"_"+s,t.$http.post("/insertboatresult",{race:t.raceID,div:s}).then(function(s){for(var r=s.data.response.insertId,n=[t.enteredPaddlers[a].paddlerID,t.enteredPaddlers[a+1].paddlerID],o=0;o<2;o++)t.$http.post("/insertpaddlerboat",{boatid:r,paddlerid:n[o]}).then(function(e){}).catch(function(e){console.log(e)});t.$swal("Entries Submitted","Your entries have been submitted","success").then(function(){e.$router.go()})}).catch(function(a){t.$swal("K2 Entry error","The page will now refresh, please check and see what entries were submitted and correct any errors.","error").then(function(){e.$router.go()}),console.log(a)})}}else"yes"!=t.enteredPaddlers[a].k2&&t.$http.post("/insertboatresult",{race:t.raceID,div:t.enteredPaddlers[a].division}).then(function(s){var r=s.data.response.insertId;t.$http.post("/insertpaddlerboat",{boatid:r,paddlerid:t.enteredPaddlers[a].paddlerID}).then(function(a){t.$swal("Entries Submitted","Your entries have been submitted","success").then(function(){e.$router.go()})}).catch(function(a){console.log(a),t.$swal("Error","The page will now refresh, please check and see what entries were submitted and correct any errors.","error").then(function(){e.$router.go()})})}).catch(function(a){t.$swal("Error","The page will now refresh, please check and see what entries were submitted and correct any errors.","error").then(function(){e.$router.go()}),console.log(a)})},s=0;s<t.enteredPaddlers.length;s++)a(s)},addK2:function(e,t){if(0==t);else{this.k2Mode=!0,this.enteredPaddlers[e].boatID=this.session_boatID,this.enteredPaddlers[e].k2="yes";var a={k2:"yes",boatID:this.session_boatID,class:"",clubID:"",division:"",name:"",numEntries:"0",paddlerID:"0"};this.enteredPaddlers.splice(e+1,0,a),this.selectedK2index=e+1}},addToK2:function(e,t,a){if(this.search="",this.dropdown=!1,0==a);else{for(var s=!1,r=0;r<this.allRacersEntered.length;r++)this.allRacersEntered[r].paddlerID==e.paddlerID&&(this.$swal("Duplicate Entry","This paddler has already been entered.","error"),s=!0);s||("yes"===this.enteredPaddlers[t].k2&&(this.enteredPaddlers[t]={k2:"yes",boatID:this.session_boatID,class:e.class,clubID:e.clubID,division:e.division,name:e.name,numEntries:"0",paddlerID:e.paddlerID},this.session_boatID++),this.k2Mode=!1)}}},watch:{search:function(){var e=this;e.search.length>=3?(e.dropdown=!0,e.$http.get("search?term="+e.search).then(function(t){e.paddlerSearchResults=t.data.response,0===e.paddlerSearchResults.length?e.$swal("No search results","","error"):e.paddlerSearchResults.length}).catch(function(t){e.$swal("Search error",t.response.data,"error")})):e.closeDropdown()},clubSearch:function(){this.search.length<3&&this.closeDropdown()}},computed:{clubSearch:function(){var e=this;return e.paddlers.filter(function(t){return t.name.toLowerCase().indexOf(e.search.toLowerCase())>=0})}}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pt-4",attrs:{id:"raceentries"}},[a("b-container",{staticClass:"text-center"},[a("b-row",{staticClass:"col-lg-12 mx-auto mt-4"},[a("b-col",{staticClass:"p-0 text-left",attrs:{md:"7"}},[a("h2",{staticClass:"title"},[e._v("Make entries for "+e._s(e.raceName)+" "),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"mb-2 py-1",attrs:{variant:"primary"}},[e._v("How to")])],1),e._v(" "),a("b-collapse",{staticClass:"my-2",attrs:{id:"collapse-1"}},[a("b-card",[a("p",{staticClass:"card-text"},[e._v("\n              Press the K1 button to enter the paddler or search for them in the field below.\n              They will then appear on the right hand side in the entries so far list. Here, the K2 button can be\n              selected to either select the paddlers partner on the left hand side or via the small\n              search box that pops up. Make sure to submit entries using the button that will appear once\n              entries have been made.\n            ")])])],1),e._v(" "),a("p",{staticClass:"title",attrs:{id:"mobileText"}},[e._v("Mobile mode: only search can be used to make entries")]),e._v(" "),a("div",{staticClass:"mb-3"},[a("b-form-input",{attrs:{type:"search",placeholder:"Search for a paddler from your club"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.dropdown?a("b-list-group",{staticClass:"paddlerList"},e._l(e.clubSearch,function(t,s){return a("b-list-group-item",{key:t.paddlerID,staticClass:"paddler",on:{click:function(a){return e.paddlerEnteredSearch(t)}}},[e._v(e._s(t.name))])}),1):e._e()],1),e._v(" "),a("div",[a("table",{staticClass:"table table-bordered",attrs:{id:"paddlerTable"}},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{staticClass:"col-xs-1",attrs:{scope:"col",align:"center",valign:"middle"}},[e._v("Paddler")]),e._v(" "),a("th",{staticClass:"col-xs-1",attrs:{scope:"col",align:"center",valign:"middle"}},[e._v("Number of Entries")]),e._v(" "),a("th",{staticClass:"col-xs-1",attrs:{scope:"col",align:"center",valign:"middle"}},[e._v("Add Paddler")])])]),e._v(" "),a("tbody",e._l(e.paddlers,function(t,s){return a("tr",[a("td",{attrs:{align:"center",valign:"middle"}},[e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),a("td",{attrs:{align:"center",valign:"middle"}},[e._v("\n                "+e._s(t.numEntries)+"\n              ")]),e._v(" "),a("td",{attrs:{align:"center",valign:"middle"}},[a("router-link",{staticClass:"router",attrs:{to:{}}},[e.k2Mode?e._e():a("a",{on:{click:function(t){return e.paddlerEntered(s)}}},[a("div",{staticClass:"icon"},[e._v("K1")])]),e._v(" "),e.k2Mode?a("a",{on:{click:function(a){return e.addToK2(t,e.selectedK2index,1)}}},[a("div",{staticClass:"icon"},[e._v("K2")])]):e._e()])],1)])}),0)])])],1),e._v(" "),a("b-col",{attrs:{id:"mobileEntries","offset-md":"1",md:"4"}},[a("h2",{staticClass:"title"},[e._v("Entries so far")]),e._v(" "),0==e.enteredPaddlers.length&&0==e.submittedEntries.length?a("p",{staticClass:"text-left mb-0"},[e._v("There are no entries...")]):e._e(),e._v(" "),e.enteredPaddlers.length>0||e.submittedEntries.length>0?a("table",{staticClass:"table"},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col",align:"center",valign:"middle"}},[e._v("Paddler")]),e._v(" "),a("th",{attrs:{scope:"col",align:"center",valign:"middle"}},[e._v("Division")]),e._v(" "),a("th",{attrs:{scope:"col",align:"center",valign:"middle"}},[e._v("Edit")])])]),e._v(" "),a("tbody",[e._l(e.enteredPaddlers,function(t,s){return a("tr",{class:"yes"===e.enteredPaddlers[s].k2?" noborder ":{}},[""!=t.name?a("td",{attrs:{align:"center",valign:"middle"}},[e._v("\n              "+e._s(t.name)+"\n            ")]):e._e(),e._v(" "),""!=t.name?a("td",{attrs:{align:"center",valign:"middle"}},[e._v("\n              "+e._s(t.division)+"\n            ")]):e._e(),e._v(" "),""===t.name?a("td",{attrs:{colspan:"2",align:"center",valign:"middle"}},[a("b-form-input",{attrs:{type:"search",placeholder:"Search for a paddler"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.dropdown?a("b-list-group",{staticClass:"paddlerList"},e._l(e.paddlerSearchResults,function(t){return a("b-list-group-item",{key:t.paddlerID,staticClass:"paddler",on:{click:function(a){return e.addToK2(t,s,1)}}},[e._v(e._s(t.clubcode)+" : "+e._s(t.name))])}),1):e._e()],1):e._e(),e._v(" "),a("td",{attrs:{align:"center",valign:"middle"}},[a("router-link",{attrs:{to:{}}},[a("a",{on:{click:function(t){return e.paddlerRemoved(s,1)}}},[a("i",{staticClass:"fas fa-minus-circle minus"})])]),e._v(" "),"yes"!=t.k2?a("router-link",{attrs:{to:{}}},[a("a",{on:{click:function(t){return e.addK2(s,1)}}},[a("div",{staticClass:"icon"},[e._v("K2")])])]):e._e()],1)])}),e._v(" "),e._l(e.submittedEntries,function(t,s){return a("tr",{class:e.getClass(t.raceDivision)},[a("td",{attrs:{align:"center",valign:"middle"}},[e._v("\n              "+e._s(t.name)+"\n            ")]),e._v(" "),a("td",{attrs:{align:"center",valign:"middle"}},[e._v("\n              "+e._s(t.raceDivision)+"\n            ")]),e._v(" "),a("td",{attrs:{align:"center",valign:"middle"}},[a("router-link",{attrs:{to:{}}},[a("a",{on:{click:function(t){return e.paddlerRemoved(s,0)}}},[a("i",{staticClass:"fas fa-minus-circle minus"})])])],1)])})],2)]):e._e(),e._v(" "),e.enteredPaddlers.length>0?a("b-button",{staticClass:"ml-0 mb-4",attrs:{size:"sm",variant:"primary"},on:{click:e.submitEntries}},[e._v("Submit Entries")]):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var ve=r("VU/8")(me,pe,!1,function(e){r("4rXf")},"data-v-1d77d2ab",null).exports,he={name:"AdminResult",data:function(){return{info:[],errors:[],race:[],racename:"",editForm:[],isRegional:!1,access:[],isOrganiser:!1,listPromotionDemotion:[]}},created:function(){var e=this,t=this,a=JSON.parse(localStorage.getItem("user"));null!=a&&t.$http.post("/isorganiser",{userID:a.userID}).then(function(a){if(a.data.response[0].account>0&&(t.isOrganiser=!0),void 0!=t.$route.query.auth){var s=t.$route.query.auth;t.$http.get("/accesspage?id="+s).then(function(a){t.access=a.data.response[0],1==t.access.accessType?(t.isRegional=!0,t.isOrganiser=!1):t.$swal("Access Denied","You may not access this page.","error").then(function(){e.$router.push("/")})}).catch(function(a){t.$swal("Access Denied","You may not access this page.","error").then(function(){e.$router.push("/")}),console.log(a)})}else e.isOrganiser||t.$swal("Access Denied","You may not access this page.","error").then(function(){e.$router.push("/")})}).catch(function(e){t.$swal("Error","Failed to authenticate user, you might need to login again","error")}),t.$http.get("/raceresult_order?id="+t.$route.params.id).then(function(e){t.info=e.data.response,t.race=D(t.info)}).catch(function(e){t.errors.push(e)}),t.$http.get("/race?id="+t.$route.params.id).then(function(e){var a=e.data.response;t.racename=a[0].raceName}).catch(function(e){t.errors.push(e)})},methods:{handleSubmit:function(e){var t=this,a=this;e.preventDefault();for(var s=[],r=0;r<a.race.length;r++)for(var n=0;n<a.race[r].length;n++){var o=a.race[r][n];s.push({raceID:a.$route.params.id,position:o.position,time:o.time,pd:o.pd,boatname:o.boatname})}a.$http.post("/mass_updateboatresult",{data:s}).then(function(e){var s={process:2,raceID:a.$route.params.id};a.$http.post("/updateraceprocess",{data:s}).then(function(e){var s={raceID:t.$route.params.id,processType:1};a.$http.post("/processresults",{data:s}).then(function(e){a.$swal("Success","Race updates complete","success").then(function(){}),console.log(e)}).catch(function(e){a.$swal("Fail","Failed to process results, please try again","error")})})})}}},we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"adminresult"}},[a("b-container",{staticClass:"text-center mx-auto col-lg-10 mx-auto pt-4 scrollX"},[a("b-row",{staticClass:"col-lg-12"},[a("h1",[e._v(" "+e._s(e.racename))])]),e._v(" "),a("b-form",{on:{submit:e.handleSubmit}},[e._l(e.race,function(t){return a("b-row",{key:t.raceID,staticClass:"col-lg-12"},[a("h2",{staticStyle:{"text-align":"left","font-size":"28px","font-weight":"600"}},[e._v(" Div "+e._s(t[0].raceDivision)+" ")]),e._v(" "),a("table",{staticClass:"table col-lg-12 mt-2 results",class:t[0].raceDivision.includes("_")?" k2Table ":{}},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Position")]),e._v(" "),a("th",{staticClass:"col-sm-1",attrs:{scope:"col"}},[e._v("Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Club")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Class")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Div")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Time")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Points")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("P/D")])])]),e._v(" "),a("tbody",[e._l(t,function(t,s){return e.isRegional?a("tr",[a("td",{attrs:{align:"center"}},[e._v("\n              "+e._s(t.position)+"\n              ")]),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.name))]),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.clubcode))]),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.class))]),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.division))]),e._v(" "),a("td",{attrs:{align:"center"}},[a("b-form-input",{staticStyle:{width:"100px"},attrs:{type:"text"},model:{value:t.time,callback:function(a){e.$set(t,"time",a)},expression:"line.time"}})],1),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.points))]),e._v(" "),a("td",{attrs:{align:"center"}},[a("b-form-input",{staticStyle:{width:"50px"},attrs:{type:"text"},model:{value:t.pd,callback:function(a){e.$set(t,"pd",a)},expression:"line.pd"}})],1)]):e._e()}),e._v(" "),e._l(t,function(t){return e.isOrganiser?a("tr",[a("td",[e._v(e._s(t.position))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.clubcode))]),e._v(" "),a("td",[e._v(e._s(t.class))]),e._v(" "),a("td",[e._v(e._s(t.division))]),e._v(" "),a("td",[e._v(e._s(t.time))]),e._v(" "),a("td",[e._v(e._s(t.points))]),e._v(" "),a("td",[e._v(e._s(t.pd))])]):e._e()})],2)])])}),e._v(" "),e.isRegional?a("b-button",{staticClass:"mb-4",attrs:{size:"lg",variant:"primary",type:"submit"}},[e._v("Submit")]):e._e()],2)],1)],1)},staticRenderFns:[]};var De=r("VU/8")(he,we,!1,function(e){r("dJdd")},"data-v-c9288fac",null).exports,Me={name:"ClubEntries",data:function(){return{info:[],errors:[],race:[],racename:"",list:[],club:[]}},created:function(){var e=this;e.$http.get("/clubraceentries?raceid="+e.$route.params.id+"&clubid="+e.$route.params.club).then(function(t){e.list=t.data.response,e.list.reverse(),e.list.sort(function(e,t){return parseInt(e.boatnumber)-parseInt(t.boatnumber)}),e.$http.get("club?id="+e.$route.params.club).then(function(t){e.club=t.data.response[0]})}).catch(function(t){e.$swal("Failed to get club entries","Please try again","error"),e.errors.push(t),console.log(t)})},updated:function(){null!=this.club.clubname&&window.print()}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"clubentries"}},[a("b-container",{staticClass:"text-center mx-auto col-lg-10 mx-auto pt-4 scrollX"},[a("b-row",{staticClass:"col-lg-12"},[a("h2",{staticStyle:{"text-align":"left","font-size":"28px","font-weight":"600"}},[e._v(" "+e._s(e.club.clubname)+" ")]),e._v(" "),a("table",{staticClass:"table col-lg-12 mx-auto mt-2 results"},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Boat Number")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Name")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Class")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Div")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("Paid?")])])]),e._v(" "),a("tbody",e._l(e.list,function(t){return a("tr",{key:t.raceID},[a("td",{attrs:{align:"center"}},[e._v("\n              "+e._s(t.boatname)+"\n            ")]),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.name))]),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.class))]),e._v(" "),a("td",{attrs:{align:"center"}},[e._v(e._s(t.division))]),e._v(" "),a("td",{attrs:{align:"center"}})])}),0)])])],1)],1)},staticRenderFns:[]};var be=r("VU/8")(Me,ge,!1,function(e){r("nwZ7")},"data-v-1f6acbea",null).exports,fe=this;i.a.use(v.a);var Te=new v.a({mode:"history",routes:[{path:"/",name:"home",component:x},{path:"/races",name:"races",component:N},{path:"/raceresult/:id",name:"raceresult",component:k},{path:"/paddler",name:"paddler",component:$},{path:"/login",name:"login",component:P},{path:"/register",name:"register",component:F},{path:"/teamleader",name:"teamleader",component:q,meta:{requiresAuth:!0}},{path:"/raceorganiser",name:"raceorganiser",component:se,meta:{requiresAuth:!0,is_organiser:!0}},{path:"/clubentries/:id/:club",name:"clubentries",component:be,meta:{requiresAuth:!0}},{path:"/runrace/:id",name:"runrace",component:ce,meta:{requiresAuth:!0,is_organiser:!0}},{path:"/raceentries/:id/:name",name:"raceentries",component:ve,meta:{requiresAuth:!0}},{path:"/adminresult/:id",name:"adminresult",component:De},{path:"/phoneresults/:id",name:"phoneresults",component:ue},{path:"/404",name:"404",component:ne},{path:"/*",name:"redirect",redirect:"/404"}]});Te.beforeEach(function(e,t,a){if(e.matched.some(function(e){return e.meta.requiresAuth}))if(null===localStorage.getItem("jwt"))fe.$router.push("/");else{var s=JSON.parse(localStorage.getItem("user")),r=0;w.a.post("http://192.168.0.47:3000/isorganiser",{userID:s.userID}).then(function(t){r=t.data.response[0].account,console.log(r),e.matched.some(function(e){return e.meta.is_organiser})?1==r||2==r?a():fe.$router.push("/teamleader"):a()}).catch(function(e){console.log(e)})}else a()});var Ae=Te,_e=r("e6fC"),ke=r.n(_e),Oe=(r("Jmt5"),r("9M+g"),r("VaBq"),r("f1Fh")),ye=r.n(Oe);i.a.use(ke.a),i.a.use(ye.a),i.a.component("RaceResult",{}),i.a.component("Races",{}),i.a.component("Paddler",{}),i.a.component("Login",{});var Ne=w.a.create({baseURL:"http://192.168.0.47:3000"});Ne.interceptors.request.use(function(e){return e.headers.Authorization=localStorage.getItem("jwt"),e},function(e){return o.a.reject(e)}),Ne.interceptors.response.use(function(e){if("no token provided"===e.data)window.location="/?message=d41d8cd98f00b204e9800998ecf8427e";else{if(500!==e.data.status)return e;window.location="/?message=84b42204e14f78f4216ac0d9f7fa1db0"}},function(e){return o.a.reject(e)}),i.a.prototype.$http=Ne,new i.a({el:"#app",router:Ae,components:{App:p},template:"<App/>"})},SYh3:function(e,t){},"T8+H":function(e,t){},VaBq:function(e,t){},ZsJW:function(e,t){},dJdd:function(e,t){},dKRD:function(e,t){},"eS/R":function(e,t){},hkH5:function(e,t){},nwZ7:function(e,t){},q3HI:function(e,t,a){e.exports=a.p+"static/media/video.f23bfc3.mp4"},q4Cz:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSIxMDAwIiB3aWR0aD0iMTAwMCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgo8bWV0YWRhdGE+SWNvRm9udCBJY29uczwvbWV0YWRhdGE+Cjx0aXRsZT5jYW5vZTwvdGl0bGU+CjxnbHlwaCBnbHlwaC1uYW1lPSJjYW5vZSIgdW5pY29kZT0iJiN4ZWQ5ODsiIGhvcml6LWFkdi14PSIxMDAwIiAvPgo8cGF0aCBkPSJNMjIwIDc0MC42YzcuNjk5OTk5OTk5OTk5OTg5IDMuNSAxMi45MDAwMDAwMDAwMDAwMDYtMi41IDE4LjY5OTk5OTk5OTk5OTk5LTguMzk5OTk5OTk5OTk5OTc3IDMwLjYwMDAwMDAwMDAwMDAyMy0zMC44MDAwMDAwMDAwMDAwNjggNjEuMTk5OTk5OTk5OTk5OTktNjEuNjAwMDAwMDAwMDAwMDIgOTIuMTk5OTk5OTk5OTk5OTktOTIgNS42MDAwMDAwMDAwMDAwMjMtNS41IDUuNjAwMDAwMDAwMDAwMDIzLTguNDAwMDAwMDAwMDAwMDkxIDAuMTAwMDAwMDAwMDAwMDIyNzQtMTQtMTA5LjgwMDAwMDAwMDAwMDAxLTExMy41LTIwMS44LTI0MC4wMDAwMDAwMDAwMDAwNi0yNzQuNC0zODAuMjAwMDAwMDAwMDAwMDUtMjIuNjAwMDAwMDAwMDAwMDIzLTQzLjU5OTk5OTk5OTk5OTk5NC00Mi4wMDAwMDAwMDAwMDAwMi04OC42LTUyLjAwMDAwMDAwMDAwMDAyLTEzNy4xLTQuMzAwMDAwMDAwMDAwMDAyLTIxLTcuMDAwMDAwMDAwMDAwMDAyLTQyLjItMS42MDAwMDAwMDAwMDAwMDE0LTYzLjQwMDAwMDAwMDAwMDAwNiA2LjY5OTk5OTk5OTk5OTk5OS0yNi40IDI0LjQtNDEuNSA1MS41LTQ0LjUgMzguMy00LjMgNzQuMSA2LjIgMTA5LjMwMDAwMDAwMDAwMDAxIDE5LjEgODQuMTk5OTk5OTk5OTk5OTkgMzAuOSAxNjAuNTk5OTk5OTk5OTk5OTcgNzYuNSAyMzQuNTk5OTk5OTk5OTk5OTcgMTI2LjQgODEuNjAwMDAwMDAwMDAwMDIgNTQuOTAwMDAwMDAwMDAwMDA2IDE1OC43MDAwMDAwMDAwMDAwNSAxMTUuNSAyMjguNzAwMDAwMDAwMDAwMDUgMTg0LjcgNC44OTk5OTk5OTk5OTk5NzcgNC44MDAwMDAwMDAwMDAwMTEgNy42MDAwMDAwMDAwMDAwMjMgNS4zMDAwMDAwMDAwMDAwMTEgMTIuNjAwMDAwMDAwMDAwMDIzIDAuMTk5OTk5OTk5OTk5OTg4NjMgMjktMjkuNSA1OC4zOTk5OTk5OTk5OTk5OC01OC43OTk5OTk5OTk5OTk5NTUgODcuNzk5OTk5OTk5OTk5OTUtODcuODk5OTk5OTk5OTk5OTggMy44OTk5OTk5OTk5OTk5NzczLTMuOTAwMDAwMDAwMDAwMDA1NyA1LjI5OTk5OTk5OTk5OTk1NDUtNy40MDAwMDAwMDAwMDAwMDYgNC41LTEzLjA5OTk5OTk5OTk5OTk5NC0xLjc5OTk5OTk5OTk5OTk1NDUtMTMuMjAwMDAwMDAwMDAwMDE3IDEuMjk5OTk5OTk5OTk5OTU0NS0yNiA1LjcwMDAwMDAwMDAwMDA0NTUtMzguMzAwMDAwMDAwMDAwMDEgMjQuMDk5OTk5OTk5OTk5OTEtNjYuODk5OTk5OTk5OTk5OTkgNjMuNzk5OTk5OTk5OTk5OTU1LTEyMi44OTk5OTk5OTk5OTk5OSAxMTguNzk5OTk5OTk5OTk5OTUtMTY3Ljc5OTk5OTk5OTk5OTk4IDI0LjcwMDAwMDAwMDAwMDA0NS0yMC4wMDAwMDAwMDAwMDAwMSA0My42MDAwMDAwMDAwMDAwMi0xOS43MDAwMDAwMDAwMDAwMSA2OC44OTk5OTk5OTk5OTk5OC0wLjcwMDAwMDAwMDAwMDAxIDE1LjgwMDAwMDAwMDAwMDA2OCAxMS44OTk5OTk5OTk5OTk5OTkgMjkuNzAwMDAwMDAwMDAwMDQ1IDI1Ljc5OTk5OTk5OTk5OTk5NyA0MS4yMDAwMDAwMDAwMDAwNDUgNDEuOTk5OTk5OTk5OTk5OTkgMTYuNSAyMy4xMDAwMDAwMDAwMDAwMSAxNi42MDAwMDAwMDAwMDAwMjMgNDAuNjAwMDAwMDAwMDAwMDEtMC4yMDAwMDAwMDAwMDAwNDU0NyA2My4zMDAwMDAwMDAwMDAwMS0xNS4xOTk5OTk5OTk5OTk5MzIgMjAuNDAwMDAwMDAwMDAwMDA2LTMzLjEwMDAwMDAwMDAwMDAyIDM4LjUtNTIuODk5OTk5OTk5OTk5OTggNTQuNDAwMDAwMDAwMDAwMDA2LTM4Ljc5OTk5OTk5OTk5OTk1NSAzMS4xOTk5OTk5OTk5OTk5OS04MC4yOTk5OTk5OTk5OTk5NSA1Ny41LTEyOSA3MC42LTggMi4wOTk5OTk5OTk5OTk5OTQzLTE2LjM5OTk5OTk5OTk5OTk3NyA0LjA5OTk5OTk5OTk5OTk5NC0yNC43MDAwMDAwMDAwMDAwNDUgMi43OTk5OTk5OTk5OTk5ODMtNi41OTk5OTk5OTk5OTk5MDktMS0xMC4zOTk5OTk5OTk5OTk5NzcgMS42OTk5OTk5OTk5OTk5ODg2LTE0LjU5OTk5OTk5OTk5OTkwOSA1LjkwMDAwMDAwMDAwMDAzNC00Mi45MDAwMDAwMDAwMDAwOSA0My4wOTk5OTk5OTk5OTk5NjYtODUuOTAwMDAwMDAwMDAwMDkgODYtMTI4LjkwMDAwMDAwMDAwMDEgMTI5LTExOS45OTk5OTk5OTk5OTk5NCAxMjAtMjM5Ljg5OTk5OTk5OTk5OTk4IDI0MC0zNTkuOTk5OTk5OTk5OTk5OTQgMzU5Ljc5OTk5OTk5OTk5OTk1LTYgNi05LjMwMDAwMDAwMDAwMDAxMSAxMS42MDAwMDAwMDAwMDAwMjMtOC44MDAwMDAwMDAwMDAwMTEgMjAuNzAwMDAwMDAwMDAwMDQ1IDEgMTguMjk5OTk5OTk5OTk5OTU1LTUuNDAwMDAwMDAwMDAwMDA2IDM1LjUtMTIuNjk5OTk5OTk5OTk5OTg5IDUyLTI0LjQwMDAwMDAwMDAwMDAwNiA1NS41LTU4LjYwMDAwMDAwMDAwMDAyIDEwMy44OTk5OTk5OTk5OTk5OC0xMDQuOSAxNDMuMzk5OTk5OTk5OTk5OTgtNi4xMDAwMDAwMDAwMDAwMDg1IDUuMjAwMDAwMDAwMDAwMDQ1NS0xMi40MDAwMDAwMDAwMDAwMDYgMTAuMTAwMDAwMDAwMDAwMDIzLTE5LjUgMTQtMTQuNjAwMDAwMDAwMDAwMDA5IDgtMjkuNSA4LjM5OTk5OTk5OTk5OTk3Ny00My45MDAwMDAwMDAwMDAwMDYgMC0yNC40LTE0LjI5OTk5OTk5OTk5OTk1NS00My44LTMzLjg5OTk5OTk5OTk5OTk4LTU4LjYtNTcuNzk5OTk5OTk5OTk5OTU1LTEwLjU5OTk5OTk5OTk5OTk5OC0xNy05LjA5OTk5OTk5OTk5OTk5OC0zNC40MDAwMDAwMDAwMDAwOSAyLjEwMDAwMDAwMDAwMDAwMTQtNTAuODAwMDAwMDAwMDAwMDcgMTMuNjAwMDAwMDAwMDAwMDAxLTIwIDMwLjcwMDAwMDAwMDAwMDAwMy0zNy4xMDAwMDAwMDAwMDAwMiA0OC44LTUyLjc5OTk5OTk5OTk5OTk1NSAzNy43LTMyLjUgNzkuMy01OC43MDAwMDAwMDAwMDAwNDUgMTI3LjAwMDAwMDAwMDAwMDAxLTc0LjMwMDAwMDAwMDAwMDA3IDEwLjUtMy41IDIxLjI5OTk5OTk5OTk5OTk4My01Ljc5OTk5OTk5OTk5OTk1NDUgMzQuMTk5OTk5OTk5OTk5OTktNS4xOTk5OTk5OTk5OTk5MzJ6IG0xMjEtMzYxLjFjMC4xMDAwMDAwMDAwMDAwMjI3NCA1LjM5OTk5OTk5OTk5OTk3NyAxLjM5OTk5OTk5OTk5OTk3NzMgMTMuNjAwMDAwMDAwMDAwMDIzIDMuODAwMDAwMDAwMDAwMDExNCAyMS42MDAwMDAwMDAwMDAwMjMgMTUuNSA1MS44OTk5OTk5OTk5OTk5OCA0NC41OTk5OTk5OTk5OTk5NjYgOTUuODk5OTk5OTk5OTk5OTggNzguODAwMDAwMDAwMDAwMDEgMTM3IDQuNSA1LjUgNi43OTk5OTk5OTk5OTk5NTQ1IDIuMjk5OTk5OTk5OTk5OTU0NSAxMC4wOTk5OTk5OTk5OTk5NjYtMC44OTk5OTk5OTk5OTk5NzczIDM0LjQwMDAwMDAwMDAwMDAzNC0zNC41MDAwMDAwMDAwMDAwNiA2OC44MDAwMDAwMDAwMDAwMS02OS4xMDAwMDAwMDAwMDAwMiAxMDMuNTAwMDAwMDAwMDAwMDYtMTAzLjQwMDAwMDAwMDAwMDAzIDUuMTk5OTk5OTk5OTk5OTMyLTUuMTAwMDAwMDAwMDAwMDIzIDQuNzk5OTk5OTk5OTk5OTU0NS03LjY5OTk5OTk5OTk5OTk4OS0wLjYwMDAwMDAwMDAwMDAyMjctMTIuMTk5OTk5OTk5OTk5OTg5LTI5LTI0LjMwMDAwMDAwMDAwMDAxLTYwLjIwMDAwMDAwMDAwMDA0NS00NS4zMDAwMDAwMDAwMDAwMS05NC40MDAwMDAwMDAwMDAwMy02MS43MDAwMDAwMDAwMDAwNDUtMjAuNS05Ljc5OTk5OTk5OTk5OTk1NS00MS41OTk5OTk5OTk5OTk5NjYtMTguMTk5OTk5OTk5OTk5OTktNjQuNjk5OTk5OTk5OTk5OTktMTkuNS0yNC42MDAwMDAwMDAwMDAwMjMtMS41LTM3LjY5OTk5OTk5OTk5OTk5IDExLjYwMDAwMDAwMDAwMDAyMy0zNi41IDM5LjEwMDAwMDAwMDAwMDAyeiBtMzE5LjkgMjQwLjVjLTAuNjk5OTk5OTk5OTk5OTMxOC0xOC4zOTk5OTk5OTk5OTk5NzctOS4yOTk5OTk5OTk5OTk5NTUtMzkuNzAwMDAwMDAwMDAwMDQ1LTE5LjE5OTk5OTk5OTk5OTkzMi02MC41LTEzLjMwMDAwMDAwMDAwMDA2OC0yNy43OTk5OTk5OTk5OTk5NTUtMjkuNzAwMDAwMDAwMDAwMDQ1LTUzLjY5OTk5OTk5OTk5OTk5LTQ4LjgwMDAwMDAwMDAwMDA3LTc3LjgwMDAwMDAwMDAwMDAxLTQuMTk5OTk5OTk5OTk5OTMyLTUuMzk5OTk5OTk5OTk5OTc3LTQuMTk5OTk5OTk5OTk5OTMyLTguMTk5OTk5OTk5OTk5OTg5IDAuNzAwMDAwMDAwMDAwMDQ1NS0xMyAyNi4zOTk5OTk5OTk5OTk5NzctMjYgNTIuNjAwMDAwMDAwMDAwMDItNTIuMzAwMDAwMDAwMDAwMDEgNzguNjAwMDAwMDAwMDAwMDItNzguNTk5OTk5OTk5OTk5OTcgNC4yOTk5OTk5OTk5OTk5NTQ1LTQuMzAwMDAwMDAwMDAwMDExIDYuNzk5OTk5OTk5OTk5OTU0NS01LjcwMDAwMDAwMDAwMDA0NTUgMTEuNjk5OTk5OTk5OTk5OTMyLTAuMjAwMDAwMDAwMDAwMDQ1NDcgMTExLjEwMDAwMDAwMDAwMDAyIDEyNi4zMDAwMDAwMDAwMDAwNyAyMDkuMjAwMDAwMDAwMDAwMDUgMjYxLjUgMjgwLjIwMDAwMDAwMDAwMDA1IDQxNC45IDE3Ljg5OTk5OTk5OTk5OTk3NyAzOC43MDAwMDAwMDAwMDAwNDUgMzIuNjAwMDAwMDAwMDAwMDIgNzguODAwMDAwMDAwMDAwMDcgMzUuNjk5OTk5OTk5OTk5OTMgMTIyLjIwMDAwMDAwMDAwMDA1IDAuNzAwMDAwMDAwMDAwMDQ1NSA5LjcwMDAwMDAwMDAwMDA0NSAwLjMwMDAwMDAwMDAwMDA2ODIgMTkuMzk5OTk5OTk5OTk5OTc3LTEuNzk5OTk5OTk5OTk5OTU0NSAyOC43OTk5OTk5OTk5OTk5NTUtNy4xMDAwMDAwMDAwMDAwMjMgMzEuMzAwMDAwMDAwMDAwMDY4LTMyLjUgNDYuNzAwMDAwMDAwMDAwMDQ1LTY5LjcwMDAwMDAwMDAwMDA1IDQzLjkwMDAwMDAwMDAwMDA5LTQzLjY5OTk5OTk5OTk5OTkzLTMuNDAwMDAwMDAwMDAwMDkxLTgzLjg5OTk5OTk5OTk5OTk4LTE4LjMwMDAwMDAwMDAwMDA2OC0xMjMuMTk5OTk5OTk5OTk5OTMtMzUuOTAwMDAwMDAwMDAwMDktMTAxLTQ1LjI5OTk5OTk5OTk5OTk1NS0xOTIuODk5OTk5OTk5OTk5OTgtMTA1Ljc5OTk5OTk5OTk5OTk1LTI4MS41LTE3MS4zOTk5OTk5OTk5OTk5OC00NS43MDAwMDAwMDAwMDAwNDUtMzMuNzk5OTk5OTk5OTk5OTU1LTg5LjYwMDAwMDAwMDAwMDAyLTY5LjY5OTk5OTk5OTk5OTkzLTEzMS45MDAwMDAwMDAwMDAwMy0xMDcuNS01LjY5OTk5OTk5OTk5OTk4OS01LjEwMDAwMDAwMDAwMDAyMy02LjU5OTk5OTk5OTk5OTk2Ni04LTAuNjk5OTk5OTk5OTk5OTg4Ni0xMy43OTk5OTk5OTk5OTk5NTUgMjYuMzk5OTk5OTk5OTk5OTc3LTI1LjYwMDAwMDAwMDAwMDAyMyA1Mi4zMDAwMDAwMDAwMDAwMS01MS42MDAwMDAwMDAwMDAwMiA3OC03Ny44OTk5OTk5OTk5OTk5OCA0LjgwMDAwMDAwMDAwMDAxMS00LjgwMDAwMDAwMDAwMDA2OCA3LjYwMDAwMDAwMDAwMDAyMy00LjgwMDAwMDAwMDAwMDA2OCAxMy0wLjcwMDAwMDAwMDAwMDA0NTUgMzYuNSAyNy44OTk5OTk5OTk5OTk5NzcgNzUgNTIuMjAwMDAwMDAwMDAwMDQ1IDExOS44OTk5OTk5OTk5OTk5OCA2NC42MDAwMDAwMDAwMDAwMiA3LjcwMDAwMDAwMDAwMDA0NTUgMi4xOTk5OTk5OTk5OTk5MzIgMTUuNSAzLjUgMjMuNjAwMDAwMDAwMDAwMDIzIDMuNSAyNC41IDAuMTAwMDAwMDAwMDAwMDIyNzQgMzUuNjAwMDAwMDAwMDAwMDItMTEgMzUuMzk5OTk5OTk5OTk5OTgtNDAuNjAwMDAwMDAwMDAwMDJ6Ii8+Cjwvc3ZnPg=="},tgXX:function(e,t){},uJsF:function(e,t){},xUaD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.da7362cf486a2dcf70b3.js.map